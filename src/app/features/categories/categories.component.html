@if (groupedCategories().length > 0) {
<section
  class="py-10 my-8 rounded-2xl px-5 bg-surface-hover dark:bg-surface-dark-hover"
  data-aos="fade-right"
>
  <h1
    class="text-3xl md:text-4xl text-center text-primary-default leading-15 hover:text-primary-dark mb-5 dark:text-prose-dark dark:hover:text-prose-dark-hover font-semibold pb-5"
  >
    {{ 'CATEGORIES.TITLE' | translate }}
  </h1>

  @for (cat of groupedCategories(); track cat._id) {
  <div>
    <h2 class="text-2xl font-bold text-primary-default mb-5 dark:text-prose-dark">
      {{ cat.name }}
    </h2>

    <div
      class="flex bg-surface-default/90 dark:bg-prose-hover/50 rounded-2xl shadow p-5 items-center gap-4 w-full mx-auto mb-4"
    >
      <img
        [src]="cat.image"
        alt="{{ cat.name }}"
        class="w-48 h-48 rounded-lg shadow p-2 dark:bg-prose-hover/20 object-contain"
      />
      <h3 class="text-2xl font-bold text-primary-default dark:text-prose-dark">
        {{ cat.name }}
      </h3>
    </div>

    @if (cat.subcategories.length > 0) {
    <h2 class="text-2xl font-bold text-primary-default mb-5 dark:text-prose-dark">
      {{ 'CATEGORIES.SUBCATEGORIES' | translate }}
    </h2>
    }

    <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 my-5 gap-3">
      @for (sub of cat.subcategories; track sub._id) {
      <li
        class="p-3 bg-prose-dark dark:bg-prose-hover rounded-lg shadow-sm hover:shadow-md transition"
      >
        <p class="font-medium text-surface-dark dark:text-surface-default">
          {{ sub.name }}
        </p>
        <span class="text-xs text-surface-dark dark:text-surface-default">
          {{ sub.slug }}
        </span>
      </li>
      }
    </ul>
  </div>
  }
</section>
}
